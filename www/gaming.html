<!DOCTYPE html>
<html>

<head>
  <!--Import Google Icon Font-->

  <title>Gaming | collegium</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="../css/materialize.min.css" media="screen,projection" />
  <link type="text/css" rel="stylesheet" href="../css/home.css" media="screen,projection" />
  <link type="text/css" rel="stylesheet" href="../css/animate.css" media="screen,projection" />

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="collegium">
  <script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>
  <script type="text/javascript" src="../js/init.js"></script>
  <script type="text/javascript" src="../js/player.js"></script>
  <script type="text/javascript" src="../js/subscriptions.js"></script>

  <script src="https://www.gstatic.com/firebasejs/5.7.3/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.5/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.5/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.7.2/firebase-auth.js"></script>

  <script src="https://embed.twitch.tv/embed/v1.js"></script>

  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyC6GRrWQ0v-xzvfHg32xgTP9fxSZB9Skb8",
      authDomain: "collegium-a3676.firebaseapp.com",
      databaseURL: "https://collegium-a3676.firebaseio.com",
      projectId: "collegium-a3676",
      storageBucket: "collegium-a3676.appspot.com",
      messagingSenderId: "852316993941"
    };
    firebase.initializeApp(config);
    const settings = {
      timestampsInSnapshots: true
    };
    firebase.firestore().settings(settings);
    var db = firebase.firestore();
  </script>
  <style>
    html {
      overflow-x: hidden;
      font-family: 'Barlow', sans-serif;
    }

    .parallax-text {
      font-size: 60px;
      /* font-family: 'Barlow', sans-serif; */
      /* letter-spacing: .11em; */
      font-weight: 900;
      text-rendering: optimizeLegibility;
    }
  </style>
</head>

<ul id="slide-out" class="sidenav sidenav-fixed center grey darken-4"><br>
  <li><a href="../index.html" class="tooltipped" data-position="right" data-tooltip="Go Home"><i class="material-icons small white-text">home</i></a></li>
  <li><a href="gaming.html" class="tooltipped" data-position="right" data-tooltip="Gaming"><i class="material-icons small white-text">videogame_asset</i></a></li>
  <!-- <li><a href="musician.html" class="tooltipped" data-color="color" data-position="right" data-tooltip="Music"><i class="material-icons small white-text">music_note</i></a></li>
  <li><a href="splash.html" class="tooltipped" data-position="right" data-tooltip="Entertainment"><i class="material-icons small white-text">play_circle_outline</i></a></li> -->
  <li><a href="eventPage.html" class="tooltipped" data-position="right" data-tooltip="Events"><i class="material-icons small white-text">event</i></a></li>
  <li><a href="settings.html" class="tooltipped" data-position="right" data-tooltip="Creator Settings"><i class="material-icons small white-text">settings</i></a></li>
</ul>


<body onload="loadAllStreamers()" style="background-color: #1A1B25;">
  <section class="">
    <div class="parallax-container ">
      <nav class="transparent z-depth-0">
        <div class="nav-wrapper black-text">
          <a href="../index.html" class="brand-logo left hide-on-med-and-down" style="padding-left: 10%;"><span class="white-text text-lighten-2"><b>collegium</b></span><span class="blue-text text-darken-4"style="font-weight: 900;">.me</span></a>
          <a href="gaming.html" class="brand-logo center" style="padding-right: 1%;"><span class="white-text text-lighten-2"><b>Gaming</b></span></a>
          <a href="#" data-target="slide-out" class="sidenav-trigger"><i class="material-icons white-text">menu</i></a>
          <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li><a class="modal-trigger" href="#subscriptionsModal">Communities</a></li>
            <li id="loginButton"><a class="modal-trigger" href="#login">Login</a></li>
            <li id="signoutButton"><a onclick="signout();">Sign Out</a></li>
          </ul>
        </div>
      </nav>
      <div class="container">
        <div class="row">
          <div class="col s12 white-text ">
            <h2 class="white-text parallax-text left-align" id="tournamentTitle">Live Now</h2>
            <div id="livePlayers"></div>
          </div>
        </div>
      </div>
      <div class="parallax" style="">
        <img id="" style="filter: blur(4px);" src="https://progameguides.com/wp-content/uploads/2018/05/fortnite-1920x1080-wallpaper-truckn-oasis-816x459.jpg">
      </div>
    </div>
    <section class="" style="background-color: #1A1B25;">
      <div class="row container">
        <h3 class="white-text " style="font-weight: 900;">Collegium Weekly</h3>
        <div class="col m3 s12" style="margin-left: 0%;">
          <a href="tournament.html">
            <div class="card z-depth-5 animated infinite " style="height: 250px; border-radius: 15px; background-color: #003049;">
              <section class="grey darken-4" style="border-radius: 15px 15px 0px 0px;">
                <h5 class="white-text center-align" style="font-weight: 900; padding-top: 15px; padding-bottom: 15px;">Fortnite Fugazi</h5></section>
              <div class="card-content white-text center-align">
                <h6 style="font-size: 30px;font-weight: 900; text-rendering: optimizeLegibility; padding: 15px; margin-top: -5%;" class="white-text center-align z-depth-5 grey darken-4">2 | 21 | 19</h6>
                <br>

                <a class="typeform-share button center" href="https://swarnsingh.typeform.com/to/reg7uM" data-mode="drawer_right" style="font-weight: 900;"><h6 style="font-weight: 900; text-rendering: optimizeLegibility; padding: 15px; margin-top: -5%;" class="white-text center-align z-depth-5 cyan darken-3">Reserve Spot</h6></a>
              </div>
            </div>
          </a>
        </div>
        <div class="col m3 s12" style="margin-left: 0%;">
          <div class="card z-depth-5" style="height: 250px; border-radius: 15px; background-color: #D62828;">
            <section class="grey darken-4" style="border-radius: 15px 15px 0px 0px;">
              <h5 class="white-text center-align" style="font-weight: 900; padding-top: 15px; padding-bottom: 15px;">Apex Legends</h5></section>
            <div class="card-content white-text">
              <div class="valign-wrapper">
                <h6 style="font-size: 35px;font-weight: 900; text-rendering: optimizeLegibility;" class="white-text center-align">Coming Soon</h6>
              </div>
            </div>
          </div>
        </div>
        <div class="col m3 s12" style="margin-left: 0%;">
          <div class="card z-depth-5" style="height: 250px; border-radius: 15px; background-color: #F77F00;">
            <section class="grey darken-4" style="border-radius: 15px 15px 0px 0px;">
              <h5 class="white-text center-align" style="font-weight: 900; padding-top: 15px; padding-bottom: 15px;">Overwatch</h5></section>
            <div class="card-content white-text">
              <h6 style="font-size: 35px;font-weight: 900; text-rendering: optimizeLegibility;" class="white-text center-align">Coming Soon</h6>

            </div>
          </div>
        </div>
        <div class="col m3 s12" style="margin-left: 0%;">
          <div class="card z-depth-5" style="height: 250px; border-radius: 15px; background-color: #E09F3E;">
            <section class="grey darken-4" style="border-radius: 15px 15px 0px 0px;">
              <h5 class="white-text center-align" style="font-weight: 900; padding-top: 15px; padding-bottom: 15px;">Smash</h5></section>
            <div class="card-content white-text">
              <h6 style="font-size: 35px;font-weight: 900; text-rendering: optimizeLegibility;" class="white-text center-align">Coming Soon</h6>
              <br>
            </div>
          </div>
        </div>

      </div>
      <br>
    </section>
    <section class="" style="background:  url('https://images.unsplash.com/photo-1498736297812-3a08021f206f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1957&q=80');">
      <div class="row container">
        <br>
        <h3 class="white-text " style="font-weight: 900;">Comet Clash</h3>
        <div class="col m4 s12" style="margin-left: 0%;">
          <a href="tournament.html">
            <div class="card z-depth-5 animated infinite " style="height: 250px; border-radius: 15px; background-color: #581845;">
              <section class="grey darken-4" style="border-radius: 15px 15px 0px 0px;">
                <h5 class="white-text center-align" style="font-weight: 900; padding-top: 15px; padding-bottom: 15px;">Sign Up</h5></section>
              <div class="card-content white-text center-align">
                <h6 style="font-size: 30px;font-weight: 900; text-rendering: optimizeLegibility; padding: 15px; margin-top: -5%;" class="white-text center-align">2 | 21 | 19</h6>
                <br>

                <a class="typeform-share button center" href="https://swarnsingh.typeform.com/to/reg7uM" data-mode="drawer_right" style="font-weight: 900; border-radius: 20px;"><h6 style="font-weight: 900; text-rendering: optimizeLegibility; padding: 15px; margin-top: -5%;" class="white-text center-align z-depth-5 grey darken-4">Reserve Spot</h6></a>
              </div>
            </div>
          </a>
        </div>
        <div class="col m4 s12" style="margin-left: 0%;">
          <div class="card z-depth-5" style="height: 250px; border-radius: 15px; background-color: #900C3F;">
            <section class="grey darken-4" style="border-radius: 15px 15px 0px 0px;">
              <h5 class="white-text center-align" style="font-weight: 900; padding-top: 15px; padding-bottom: 15px;">View Stats</h5></section>
            <div class="card-content white-text center-align">
                <h6 style="font-size: 35px;font-weight: 900; text-rendering: optimizeLegibility;" class="white-text center-align">Coming Soon</h6>
            </div>
          </div>
        </div>
        <div class="col m4 s12" style="margin-left: 0%;">
          <div class="card z-depth-5" style="height: 250px; border-radius: 15px; background-color: #C70039;">
            <section class="grey darken-4" style="border-radius: 15px 15px 0px 0px;">
              <h5 class="white-text center-align" style="font-weight: 900; padding-top: 15px; padding-bottom: 15px;">When & Where</h5></section>
            <div class="card-content white-text">
              <h6 style="font-size: 20px;font-weight: 900; text-rendering: optimizeLegibility; padding: 15px; margin-top: -5%;" class="white-text center-align ">Sundays at 3 p.m.</h6>
              <br>
              <h6 style="font-size: 20px;font-weight: 900; text-rendering: optimizeLegibility; padding: 15px; margin-top: -5%;" class="white-text center-align">Blackstone Launchpad</h6>

            </div>
          </div>
        </div>
      </div>
      <!-- <div class="row z-depth-5" style="background: linear-gradient(30deg, #004092, transparent, transparent), url('https://images.unsplash.com/photo-1498736297812-3a08021f206f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1957&q=80');">
        <div class="col m6 s12 left-align" style="margin-top: 4%;">
          <h3 class="white-text container "style="font-weight: 900;">Twitch Always On</h3><br>
          <div id="twitch-embed" style="margin-left: 15%;"></div>
        </div>
        <div class="col m6 s12 right-align" style="margin-top: 2%;">
          <h3 class="white-text  " style="font-weight: 900;">Popular Games</h3><br>
          <div class="col s12 m4">
            <div class="card white black-text z-depth-5">
              <a onclick="loadOverwatch();">
                <div class="card-image">
                  <img style="height: 350px; border-radius: 10px; object-fit: cover;" src="https://blznav.akamaized.net/img/games/cards/card-overwatch-7eff92e1257149aa.jpg">
                  <span class="card-title"></span>
                </div>
            </div>
            </a>
          </div>
          <div class="col s12 m4">
            <div class="card white black-text z-depth-5">
              <a onclick="loadLeague();">
                <div class="card-image">
                  <img style="height: 350px; border-radius: 10px; object-fit: cover;" src="https://static-cdn.jtvnw.net/ttv-boxart/League%20of%20Legends.jpg">
                  <span class="card-title"></span>
                </div>
              </a>
            </div>
          </div>
          <div class="col s12 m4">
            <div class="card white black-text z-depth-5">
              <a onclick="loadFortnite();">
                <div class="card-image">
                  <img style="height: 350px; border-radius: 10px;   object-fit: cover;" src="https://static-cdn.jtvnw.net/ttv-boxart/Fortnite.jpg">
                  <span class="card-title"></span>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div> -->
    </section>
    <!-- <section class="z-depth-5 container" style="border-radius: 25px;">
      <br>
      <h3 class="white-text center-align container " style="font-weight: 900;">All Streamers</h3><br><br>
      <div class="row " style="margin-left: 0%;">
        <div id="allplayers"></div>
        <div id="overwatch"></div>
        <div id="league"></div>
        <div id="fortnite"></div>
        <div id="csgo"></div>
      </div>
    </section> -->
  </section>


</body>
<!-- Modal Structure -->
<div id="subscriptionsModal" class="modal bottom-sheet" style="background-color: #141414;">
  <div class="modal-content">
    <!--  Your subscriptions go here -->
    <br>
    <h3 class="white-text " style="font-weight: 900;">Gaming Communities</h3>
    <div class="row">
      <h6 id="alreadySignedin" class="white-text">Sign in to see your subscriptions :) </h6>
      <div id="yourSubs"></div>
    </div>
  </div>
</div>
<div class="card animated flipInY modal white" id="login" style="max-width: 500px;">
  <div class="card-content">
    <form id="loginSection">
      <h5 class="center">Login to <span class="blue-text">collegium</span></h5>
      <div class="row">
        <div class="input-field col s12">
          <input id="emailLogin" type="email" class="validate">
          <label for="emailLogin">Email</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input id="passwordLogin" type="password" class="validate">
          <label for="passwordLogin">Password</label>
        </div>
      </div>
      <div class="row center">
        <div class="input-field col s12">
          <a class="waves-effect waves-light btn color-page3" style="border-radius: 20px;" onclick="login()"><i class="material-icons left">pool</i>Login</a>
        </div>
      </div>
      <div class="row center">
        <div class="input-field col s12">
          Don't have an account?
          <a onclick="hideLogin();"> &nbspCreate one here</a>
        </div>
      </div>
    </form>
    <form id="signupSection">
      <h5 class="center">Create account on<span class="blue-text"> collegium</span></h5>
      <div class="row">
        <div class="input-field col s6">
          <input id="firstSingup" type="text" class="validate">
          <label for="firstSignup">First Name</label>
        </div>
        <div class="input-field col s6">
          <input id="lastSignup" type="text" class="validate">
          <label for="lastSignup">Last Name</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input id="emailSingup" type="email" class="validate">
          <label for="emailSignup">Email</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input id="passwordSignup" type="password" class="validate">
          <label for="passwordSignup">Password</label>
        </div>
      </div>
      <div class="row center">
        <div class="input-field col s12">
          <a class="waves-effect waves-light btn color-page3" style="border-radius: 20px;" onclick="login()"><i class="material-icons left">pool</i>Login</a>
        </div>
      </div>
      <div class="row center">
        <div class="input-field col s12">
          Already have an account?<a onclick="hideSignup();"> &nbspSignin here</a>
        </div>
      </div>
    </form>
  </div>
</div>
<script>
  function loadAllStreamers() {
    db.collection("gamers").get().then(function(querySnapshot) {
      querySnapshot.forEach(function(doc) {
        var twitchLive = 'https://api.twitch.tv/helix/streams/' + doc.data().twitch;
        //client id: urff2tmjj5swnbqlltvic62bwpn96f
        $.get({
          url: 'https://api.twitch.tv/kraken/streams/' + doc.data().twitch,
          data: {
            client_id: 'urff2tmjj5swnbqlltvic62bwpn96f'
          },
          error: function(response) {
            console.log("IT DIDNT WORK");
          },
          success: function(response) {
            console.log("response", response);

            console.log(doc.data().twitch, " => ", response)
            if (response.stream.stream_type == "live") {
              console.log("EVERYTHING IS GUCCI");
              $('#noLive').hide();
              var words = ["051e3e", "251e3e", "451e3e", "651e3e", "851e3e"];
              var word = words[Math.floor(Math.random() * words.length)];
              console.log(word);

              var livePlayers = '<div class="col m3 animated fadeInRight"><a onclick="openPlayerPage(this)" data-playerName="' + doc.data().twitch +
                '"><div class="card z-depth-5 animated infinite slower" style="height: 200px; border-radius: 15px; background-color: #' + word +
                ';"><section class="grey darken-4" style="border-radius: 15px 15px 0px 0px;"><h5 class="white-text center-align" style="font-weight: 900; padding-top: 15px; padding-bottom: 15px;">' + doc.data().twitch +
                '</h5></section><div class="card-content white-text"><h6 style="font-weight: 900;" class="white-text">Watch me play ' + response.stream.game + '</h6></div></div></a></div>';
              $('#livePlayers').append(livePlayers);
            }
          }
        });
      });
    });
    var countDownDate = new Date("Feb 21, 2019 23:59:59").getTime();

    // Update the count down every 1 second
    var x = setInterval(function() {

      // Get todays date and time
      var now = new Date().getTime();

      // Find the distance between now and the count down date
      var distance = countDownDate - now;

      // Time calculations for days, hours, minutes and seconds
      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

      // Display the result in the element with id="demo"
      document.getElementById("countdown").innerHTML = hours + "h " +
        minutes + "m " + seconds + "s  left to signup";

      // If the count down is finished, write some text
      if (distance < 0) {
        clearInterval(x);
        document.getElementById("countdown").innerHTML = "EXPIRED";
      }
    }, 1000);
  }
</script>
<script>
  (function() {
    var qs, js, q, s, d = document,
      gi = d.getElementById,
      ce = d.createElement,
      gt = d.getElementsByTagName,
      id = "typef_orm_share",
      b = "https://embed.typeform.com/";
    if (!gi.call(d, id)) {
      js = ce.call(d, "script");
      js.id = id;
      js.src = b + "embed.js";
      q = gt.call(d, "script")[0];
      q.parentNode.insertBefore(js, q)
    }
  })()
</script>

<script type="text/javascript" src="../js/materialize.min.js"></script>

</html>
